"use client"

import { useState, useRef } from "react"

export default function BMICalculator() {
  const [units, setUnits] = useState("metric")
  const [height, setHeight] = useState("")
  const [weight, setWeight] = useState("")
  const [feet, setFeet] = useState("")
  const [inches, setInches] = useState("")
  const [age, setAge] = useState("")
  const [gender, setGender] = useState("male")
  const [result, setResult] = useState(null)
  const needleRef = useRef(null)
  const animationRef = useRef(null)

  const calculateBMI = () => {
    let heightInMeters, weightInKg

    if (units === "metric") {
      heightInMeters = Number.parseFloat(height) / 100
      weightInKg = Number.parseFloat(weight)
    } else {
      const totalInches = Number.parseFloat(feet) * 12 + Number.parseFloat(inches)
      heightInMeters = totalInches * 0.0254
      weightInKg = Number.parseFloat(weight) * 0.453592
    }

    if (heightInMeters && weightInKg) {
      const bmi = weightInKg / (heightInMeters * heightInMeters)
      let category = ""

      if (bmi < 18.5) category = "Underweight"
      else if (bmi < 25) category = "Normal weight"
      else if (bmi < 30) category = "Overweight"
      else category = "Obese"

      setResult({
        bmi: bmi.toFixed(1),
        category,
        idealWeight: calculateIdealWeight(heightInMeters)
      })

      animateNeedle(bmi)
    }
  }

  const animateNeedle = (bmi) => {
    // BMI range: 15 to 40
    const minBMI = 15;
    const maxBMI = 40;
    const normalizedBMI = Math.min(Math.max(bmi, minBMI), maxBMI);
    // Angle range: -60deg (left) to 60deg (right)
    const targetAngle = ((normalizedBMI - minBMI) / (maxBMI - minBMI)) * 120 - 60;

    let currentAngle = -60
    if (needleRef.current) {
      const currentTransform = needleRef.current.style.transform
      const match = currentTransform.match(/rotate\(([-0-9.]+)deg\)/)
      if (match) currentAngle = parseFloat(match[1])
    }

    const duration = 1000
    const startTime = performance.now()

    const animate = (timestamp) => {
      const elapsed = timestamp - startTime
      const progress = Math.min(elapsed / duration, 1)
      const easedProgress = 0.5 * (1 - Math.cos(Math.PI * progress))
      const newAngle = currentAngle + (targetAngle - currentAngle) * easedProgress

      if (needleRef.current) {
        needleRef.current.style.transform = `rotate(${newAngle}deg)`
      }

      if (progress < 1) {
        animationRef.current = requestAnimationFrame(animate)
      }
    }

    animationRef.current = requestAnimationFrame(animate)
  }

  const calculateIdealWeight = (heightInMeters) => {
    if (units === "metric") {
      if (gender === "male") {
        return (22 * (heightInMeters * heightInMeters)).toFixed(1) + " kg"
      } else {
        return (21 * (heightInMeters * heightInMeters)).toFixed(1) + " kg"
      }
    } else {
      const heightInInches = heightInMeters / 0.0254
      if (gender === "male") {
        const lbs = 106 + 6 * (heightInInches - 60)
        return lbs.toFixed(1) + " lbs"
      } else {
        const lbs = 100 + 5 * (heightInInches - 60)
        return lbs.toFixed(1) + " lbs"
      }
    }
  }

  const resetForm = () => {
    setHeight("")
    setWeight("")
    setFeet("")
    setInches("")
    setAge("")
    setResult(null)
    if (needleRef.current) {
      needleRef.current.style.transform = "rotate(-60deg)"
    }
  }

  return (
    <div className="bmi-calculator-container">
      <div className="main-content-wrapper">
        <div className="calculator-content">
          <div className="calculator-header">
            <h1>BMI Calculator</h1>
            <p>Use this calculator to check your body mass index (BMI) and find out if you're a healthy weight.</p>
          </div>

          <div className="calculator-card">
            <div className="unit-toggle">
              <button 
                className={`unit-btn ${units === 'metric' ? 'active' : ''}`}
                onClick={() => setUnits("metric")}
              >
                Metric
              </button>
              <button 
                className={`unit-btn ${units === 'imperial' ? 'active' : ''}`}
                onClick={() => setUnits("imperial")}
              >
                Imperial
              </button>
            </div>

            <div className="input-section">
              {units === "metric" ? (
                <>
                  <div className="input-group">
                    <label>Height (cm)</label>
                    <input
                      type="number"
                      value={height}
                      onChange={(e) => setHeight(e.target.value)}
                      placeholder="e.g. 175"
                    />
                  </div>
                  <div className="input-group">
                    <label>Weight (kg)</label>
                    <input
                      type="number"
                      value={weight}
                      onChange={(e) => setWeight(e.target.value)}
                      placeholder="e.g. 70"
                    />
                  </div>
                </>
              ) : (
                <>
                  <div className="input-group">
                    <label>Height (ft & in)</label>
                    <div className="height-inputs">
                      <input
                        type="number"
                        placeholder="ft"
                        value={feet}
                        onChange={(e) => setFeet(e.target.value)}
                      />
                      <input
                        type="number"
                        placeholder="in"
                        value={inches}
                        onChange={(e) => setInches(e.target.value)}
                      />
                    </div>
                  </div>
                  <div className="input-group">
                    <label>Weight (lbs)</label>
                    <input
                      type="number"
                      value={weight}
                      onChange={(e) => setWeight(e.target.value)}
                      placeholder="e.g. 150"
                    />
                  </div>
                </>
              )}

              <div className="input-group">
                <label>Age</label>
                <input
                  type="number"
                  value={age}
                  onChange={(e) => setAge(e.target.value)}
                  placeholder="optional"
                />
              </div>

              <div className="input-group">
                <label>Gender</label>
                <div className="gender-toggle">
                  <button 
                    className={`gender-btn ${gender === 'male' ? 'active' : ''}`}
                    onClick={() => setGender("male")}
                  >
                    Male
                  </button>
                  <button 
                    className={`gender-btn ${gender === 'female' ? 'active' : ''}`}
                    onClick={() => setGender("female")}
                  >
                    Female
                  </button>
                </div>
              </div>
            </div>

            <div className="meter-container">
              <div className="meter-svg">
                <svg width="363" height="194" viewBox="0 0 363 194" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M181.119 27.816C162.181 27.816 144.006 31.07 127.109 37.032L158.998 130.596C165.887 128.034 173.338 126.627 181.12 126.627C186.415 126.627 191.555 127.284 196.472 128.505L228.403 34.82C213.441 30.271 197.567 27.816 181.119 27.816Z" fill="#FEDA00"/>
                  <path d="M18.803 190.132C18.803 190.132 62.393 189.937 117.624 189.761C117.703 176.018 122.16 163.32 129.651 152.962L48.494 96.538C29.794 122.988 18.803 155.275 18.803 190.132Z" fill="#52C9F7"/>
                  <path d="M48.4939 96.538L129.652 152.962C136.95 142.871 147.13 135.008 158.998 130.596L127.109 37.032C95.1199 48.317 67.7269 69.334 48.4939 96.538Z" fill="#97CD17"/>
                  <path d="M228.402 34.8201L196.471 128.505C210.274 131.933 222.281 139.881 230.856 150.683L312.068 94.2221C291.567 66.2781 262.343 45.1401 228.402 34.8201Z" fill="#F8931F"/>
                  <path d="M312.068 94.222L230.856 150.683C239.335 161.364 244.462 174.826 244.608 189.489C300.103 189.454 339.556 190.132 343.434 190.132C343.435 154.25 331.783 121.093 312.068 94.222Z" fill="#FE0000"/>
                  <path opacity="0.35" d="M297.058 189.591C297.058 125.56 245.15 74.193 181.119 74.193C117.088 74.193 65.1812 126.101 65.1812 190.132C65.1812 190.132 291.302 189.591 297.058 189.591Z" fill="black"/>
                  <path d="M181.12 112.776C171.775 112.776 162.817 114.433 154.524 117.469L158.998 130.595C165.887 128.033 173.338 126.626 181.12 126.626C186.415 126.626 191.555 127.283 196.472 128.504L200.954 115.353C194.623 113.679 187.978 112.776 181.12 112.776Z" fill="#F7CB2A"/>
                  <path d="M129.652 152.962L118.276 145.053C109.213 157.665 103.842 173.106 103.773 189.806C108.295 189.791 112.913 189.776 117.625 189.761C117.703 176.018 122.16 163.32 129.652 152.962Z" fill="#52C9F7"/>
                  <path d="M118.276 145.053L129.652 152.962C136.95 142.871 147.13 135.008 158.998 130.596L154.524 117.47C139.836 122.848 127.249 132.565 118.276 145.053Z" fill="#97CD17"/>
                  <path d="M200.954 115.354L196.472 128.505C210.275 131.933 222.282 139.881 230.857 150.683L242.253 142.76C232.003 129.554 217.582 119.754 200.954 115.354Z" fill="#EA7F16"/>
                  <path d="M230.857 150.683C239.336 161.364 244.463 174.826 244.609 189.489C249.32 189.486 253.938 189.484 258.459 189.484C258.314 171.882 252.288 155.692 242.252 142.76L230.857 150.683Z" fill="#C7393D"/>
                  <path d="M36.5801 182.122L40.3321 182.363C41.4591 182.436 42.0621 182.039 42.1101 181.291C42.1591 180.516 41.6411 180.055 40.4851 179.981L36.7331 179.739L36.8281 178.264L40.4891 178.499C42.5021 178.629 43.3931 179.708 43.2831 181.416C43.1781 183.062 42.2021 183.965 40.1291 183.831L36.4861 183.597L36.5801 182.122Z" fill="white"/>
                  <path d="M43.4552 177.489L36.9612 176.761L37.1532 175.05L39.6862 173.968C40.4112 173.656 41.2662 173.368 42.0322 173.157V173.131C41.1632 173.125 40.2872 173.055 39.3062 172.945L37.4122 172.733L37.5632 171.385L44.0572 172.113L43.8852 173.651L41.2282 174.763C40.4842 175.072 39.6032 175.404 38.8072 175.634V175.667C39.6732 175.718 40.5942 175.802 41.6542 175.921L43.6052 176.14L43.4552 177.489Z" fill="white"/>
                  <path d="M37.855 169.875C37.854 169.325 37.915 168.617 38.032 167.886C38.229 166.661 38.583 165.898 39.15 165.354C39.758 164.764 40.613 164.469 41.754 164.653C42.991 164.852 43.775 165.436 44.197 166.141C44.654 166.91 44.757 167.994 44.554 169.252C44.433 170.011 44.3 170.544 44.193 170.895L37.855 169.875ZM43.357 169.265C43.401 169.141 43.435 168.937 43.464 168.76C43.687 167.44 43.096 166.453 41.553 166.205C40.213 165.986 39.382 166.659 39.18 167.913C39.129 168.232 39.121 168.451 39.129 168.585L43.357 169.265Z" fill="white"/>
                  <path d="M43.3991 159.945L42.9141 162.302L44.4371 162.615L44.9791 159.981L46.1651 160.224L45.3261 164.307L38.9221 162.99L39.7331 159.045L40.9201 159.288L40.4061 161.785L41.7411 162.06L42.2251 159.703L43.3991 159.945Z" fill="white"/>
                  <path d="M40.1101 157.773C40.1461 157.294 40.2561 156.595 40.4441 155.833C40.6761 154.892 40.9831 154.268 41.4541 153.903C41.8481 153.599 42.3451 153.5 42.9291 153.644C43.7321 153.843 44.1511 154.555 44.2121 155.149L44.2421 155.157C44.5281 154.76 45.0101 154.617 45.6331 154.601C46.3991 154.582 47.2741 154.594 47.5501 154.531L47.1871 155.999C46.9801 156.051 46.4301 156.084 45.6001 156.071C44.7631 156.051 44.4861 156.265 44.3321 156.854L44.2271 157.28L46.7181 157.895L46.3661 159.317L40.1101 157.773ZM43.1891 157.025L43.3281 156.463C43.5031 155.751 43.2461 155.235 42.6941 155.1C42.1131 154.956 41.7181 155.281 41.5521 155.935C41.4671 156.278 41.4401 156.485 41.4401 156.592L43.1891 157.025Z" fill="white"/>
                  <path d="M48.0091 152.851L41.3081 152.448L41.7651 150.932L44.4841 151.234C45.2681 151.325 46.1201 151.44 46.7811 151.53L46.7881 151.51C46.1381 151.205 45.4351 150.829 44.7051 150.437L42.3091 149.131L42.7621 147.629L45.5531 147.925C46.3231 148.011 47.0231 148.107 47.7431 148.225L47.7501 148.206C47.0811 147.898 46.3951 147.548 45.6871 147.183L43.2821 145.906L43.7161 144.469L49.4851 147.967L49.0241 149.494L46.1711 149.215C45.5081 149.151 44.8881 149.071 44.1551 148.936L44.1491 148.955C44.8221 149.273 45.3841 149.553 45.9711 149.893L48.4801 151.301L48.0091 152.851Z" fill="white"/>
                  <path d="M48.9421 141.116L48.1351 143.381L49.5991 143.903L50.5021 141.372L51.6421 141.778L50.2431 145.702L44.0881 143.507L45.4401 139.715L46.5801 140.121L45.7241 142.521L47.0071 142.978L47.8141 140.713L48.9421 141.116Z" fill="white"/>
                  <path d="M46.4411 137.129L52.5371 139.503L52.0001 140.881L45.9041 138.506L46.4411 137.129Z" fill="white"/>
                  <path d="M54.8482 133.206C54.8132 133.689 54.6652 134.564 54.3262 135.356C53.8562 136.453 53.2422 137.126 52.4742 137.451C51.7162 137.779 50.8052 137.746 49.9242 137.364C47.9292 136.501 47.4172 134.558 48.2602 132.592C48.5932 131.816 48.9952 131.283 49.2642 131.046L50.2302 131.796C49.9442 132.067 49.6592 132.423 49.3762 133.084C48.8902 134.216 49.1582 135.349 50.4642 135.909C51.7042 136.44 52.7662 135.97 53.2422 134.858C53.3742 134.551 53.4452 134.287 53.4422 134.157L52.1802 133.616L51.7822 134.545L50.7222 134.09L51.6822 131.85L54.8482 133.206Z" fill="white"/>
                  <path d="M50.3521 128.152L52.6121 129.253L53.6801 127.063L51.4201 125.961L52.0671 124.633L57.9431 127.496L57.2961 128.825L54.8371 127.627L53.7691 129.817L56.2281 131.015L55.5811 132.344L49.7051 129.48L50.3521 128.152Z" fill="white"/>
                  <path d="M54.461 122.775L53.622 124.326L52.531 123.735L54.927 119.313L56.017 119.903L55.165 121.476L59.821 123.998L59.117 125.297L54.461 122.775Z" fill="white"/>
                  <path d="M83.319 92.613L78.79 87.904L80.03 86.71L82.669 87.497C83.426 87.72 84.268 88.045 84.992 88.372L85.008 88.352C84.344 87.792 83.714 87.179 83.03 86.468L81.71 85.094L82.687 84.154L87.217 88.863L86.1 89.937L83.347 89.095C82.577 88.857 81.687 88.55 80.929 88.218L80.907 88.243C81.541 88.836 82.195 89.489 82.934 90.258L84.296 91.673L83.319 92.613Z" fill="white"/>
                  <path d="M90.4112 81.605C91.8212 83.222 91.6972 85.05 90.2572 86.307C88.7962 87.582 86.9722 87.227 85.7452 85.821C84.4602 84.348 84.4432 82.417 85.8952 81.15C87.4082 79.831 89.2222 80.242 90.4112 81.605ZM86.9052 84.773C87.7472 85.738 88.7972 86.023 89.5402 85.374C90.2932 84.717 90.1032 83.629 89.2662 82.671C88.4912 81.782 87.4092 81.39 86.6432 82.059C85.8882 82.717 86.0692 83.814 86.9052 84.773Z" fill="white"/>
                  <path d="M89.2971 78.506C89.6181 78.148 90.1311 77.662 90.7471 77.172C91.5061 76.568 92.1301 76.262 92.7251 76.261C93.2231 76.261 93.6781 76.486 94.0521 76.957C94.5671 77.605 94.4631 78.425 94.1491 78.933L94.1691 78.958C94.6381 78.819 95.1081 78.999 95.6101 79.367C96.2301 79.82 96.9141 80.364 97.1721 80.483L95.9881 81.425C95.7911 81.34 95.3361 81.03 94.6871 80.512C94.0351 79.986 93.6851 79.986 93.2041 80.358L92.8601 80.632L94.4581 82.642L93.3111 83.553L89.2971 78.506ZM92.1931 79.794L92.6461 79.434C93.2201 78.977 93.3311 78.412 92.9771 77.967C92.6041 77.499 92.0921 77.514 91.5621 77.932C91.2841 78.153 91.1371 78.3 91.0711 78.385L92.1931 79.794Z" fill="white"/>
                  <path d="M100.769 74.77C100.282 74.145 99.7091 73.397 99.1531 72.617L99.1311 72.633C99.4491 73.433 99.7681 74.348 100.019 75.118L100.855 77.654L99.9231 78.324L97.8781 76.683C97.2591 76.181 96.5401 75.554 95.9071 74.949L95.8911 74.961C96.3831 75.702 96.9421 76.542 97.3841 77.226L98.7321 79.312L97.6221 80.109L94.1501 74.558L95.7501 73.409L97.5411 74.811C98.1451 75.3 98.7891 75.849 99.3531 76.385L99.3791 76.367C99.0831 75.648 98.7601 74.819 98.5161 74.099L97.8111 71.929L99.3811 70.802L103.477 75.904L102.311 76.742L100.769 74.77Z" fill="white"/>
                  <path d="M104.731 73.1L105.25 74.761L103.965 75.587L102.111 69.012L103.737 67.967L108.98 72.364L107.641 73.225L106.312 72.084L104.731 73.1ZM105.533 71.278L104.441 70.33C104.138 70.066 103.775 69.716 103.484 69.449L103.467 69.459C103.594 69.834 103.78 70.305 103.896 70.681L104.318 72.059L105.533 71.278Z" fill="white"/>
                  <path d="M106.362 66.328L107.636 65.579L110.321 70.148L112.563 68.83L113.191 69.898L109.674 71.965L106.362 66.328Z" fill="white"/>
                  <path d="M155.118 51.119C155.557 53.217 154.555 54.749 152.685 55.14C150.79 55.536 149.373 54.335 148.993 52.511C148.593 50.599 149.524 48.908 151.406 48.515C153.369 48.106 154.749 49.35 155.118 51.119ZM150.515 52.165C150.777 53.417 151.552 54.177 152.517 53.976C153.495 53.771 153.86 52.731 153.6 51.487C153.359 50.334 152.609 49.464 151.614 49.672C150.635 49.877 150.256 50.921 150.515 52.165Z" fill="white"/>
                  <path d="M158.162 53.997L155.054 47.876L156.653 47.618L157.873 50.226C158.222 50.957 158.535 51.656 158.826 52.435L158.846 52.432C158.885 51.631 158.97 50.83 159.071 50.056L159.448 47.169L161 46.92L159.868 53.723L158.162 53.997Z" fill="white"/>
                  <path d="M166.195 50.098L163.805 50.384L163.99 51.928L166.661 51.609L166.806 52.811L162.665 53.307L161.887 46.813L165.887 46.334L166.032 47.537L163.499 47.84L163.661 49.193L166.051 48.907L166.195 50.098Z" fill="white"/>
                  <path d="M167.248 46.294C167.714 46.177 168.41 46.06 169.194 45.997C170.161 45.92 170.85 46.014 171.343 46.346C171.757 46.624 172.007 47.064 172.055 47.664C172.12 48.489 171.576 49.111 171.032 49.357L171.035 49.387C171.501 49.534 171.79 49.945 172.002 50.531C172.262 51.252 172.526 52.085 172.674 52.327L171.166 52.447C171.051 52.266 170.847 51.755 170.598 50.964C170.352 50.165 170.061 49.968 169.454 50.009L169.016 50.044L169.22 52.602L167.76 52.718L167.248 46.294ZM168.93 48.978L169.507 48.933C170.237 48.875 170.646 48.468 170.6 47.901C170.553 47.304 170.12 47.032 169.446 47.082C169.094 47.11 168.889 47.15 168.787 47.184L168.93 48.978Z" fill="white"/>
                  <path d="M174.388 52.234L172.652 45.745L174.234 45.699L174.808 48.376C174.97 49.149 175.131 49.994 175.254 50.65L175.275 50.649C175.358 49.936 175.493 49.149 175.634 48.333L176.116 45.645L177.686 45.599L178.288 48.341C178.449 49.1 178.581 49.794 178.696 50.515H178.716C178.797 49.783 178.912 49.021 179.034 48.233L179.485 45.547L180.986 45.503L179.49 52.086L177.895 52.132L177.257 49.335C177.108 48.685 176.988 48.071 176.884 47.333H176.865C176.775 48.073 176.688 48.695 176.551 49.36L176.007 52.187L174.388 52.234Z" fill="white"/>
                  <path d="M185.812 49.398L183.408 49.351L183.378 50.904L186.065 50.957L186.041 52.168L181.876 52.086L182.006 45.552L186.031 45.632L186.007 46.843L183.459 46.792L183.432 48.153L185.837 48.201L185.812 49.398Z" fill="white"/>
                  <path d="M188.799 45.755L188.489 52.289L187.012 52.219L187.321 45.685L188.799 45.755Z" fill="white"/>
                  <path d="M195.18 52.477C194.711 52.597 193.834 52.736 192.976 52.666C191.785 52.569 190.952 52.202 190.399 51.577C189.848 50.962 189.589 50.088 189.671 49.131C189.855 46.965 191.533 45.86 193.667 46.033C194.508 46.101 195.143 46.313 195.453 46.492L195.049 47.648C194.7 47.463 194.272 47.306 193.555 47.248C192.327 47.149 191.337 47.763 191.223 49.179C191.114 50.525 191.898 51.381 193.104 51.479C193.437 51.507 193.71 51.489 193.832 51.446L193.943 50.077L192.936 49.996L193.03 48.847L195.46 49.044L195.18 52.477Z" fill="white"/>
                  <path d="M198.549 46.596L198.227 49.09L200.644 49.403L200.966 46.909L202.432 47.098L201.594 53.582L200.128 53.393L200.48 50.68L198.062 50.367L197.712 53.08L196.247 52.891L197.084 46.407L198.549 46.596Z" fill="white"/>
                  <path d="M204.954 48.772L203.215 48.471L203.427 47.248L208.387 48.107L208.175 49.331L206.412 49.025L205.506 54.246L204.049 53.993L204.954 48.772Z" fill="white"/>
                  <path d="M256.4 70.393C255.297 72.233 253.52 72.679 251.881 71.696C250.219 70.699 249.994 68.855 250.953 67.256C251.958 65.58 253.79 64.969 255.441 65.959C257.162 66.992 257.33 68.842 256.4 70.393ZM252.308 68.035C251.65 69.133 251.703 70.218 252.549 70.725C253.406 71.238 254.381 70.723 255.036 69.633C255.641 68.622 255.681 67.472 254.81 66.949C253.949 66.435 252.961 66.945 252.308 68.035Z" fill="white"/>
                  <path d="M258.999 68.372C259.364 68.524 260.049 68.9 260.666 69.309C261.416 69.806 261.829 70.187 262.074 70.682C262.321 71.137 262.343 71.686 262.011 72.186C261.694 72.665 261.113 72.93 260.349 72.751L260.336 72.771C260.849 73.347 260.997 74.127 260.535 74.826C260.204 75.324 259.717 75.561 259.201 75.607C258.589 75.663 257.815 75.402 256.731 74.683C256.125 74.28 255.702 73.943 255.453 73.72L258.999 68.372ZM257.239 73.676C257.343 73.775 257.488 73.873 257.696 74.011C258.255 74.381 258.891 74.491 259.27 73.918C259.632 73.372 259.288 72.831 258.674 72.423L258.252 72.143L257.239 73.676ZM258.836 71.267L259.236 71.531C259.889 71.964 260.409 71.918 260.677 71.514C260.951 71.1 260.782 70.674 260.226 70.305C259.956 70.126 259.793 70.043 259.679 69.996L258.836 71.267Z" fill="white"/>
                  <path d="M265.018 76.992L263.065 75.586L262.157 76.848L264.341 78.419L263.633 79.402L260.249 76.966L264.07 71.658L267.339 74.012L266.631 74.995L264.561 73.505L263.765 74.61L265.718 76.016L265.018 76.992Z" fill="white"/>
                  <path d="M265.378 78.812C265.558 79.218 265.92 79.755 266.419 80.144C266.954 80.562 267.412 80.561 267.676 80.221C267.923 79.905 267.823 79.526 267.375 78.828C266.753 77.851 266.556 76.945 267.143 76.192C267.828 75.312 269.088 75.219 270.3 76.165C270.888 76.623 271.222 77.071 271.415 77.45L270.428 78.185C270.299 77.927 270.043 77.491 269.542 77.1C269.034 76.704 268.609 76.75 268.403 77.014C268.147 77.342 268.321 77.709 268.792 78.484C269.439 79.536 269.492 80.341 268.924 81.069C268.253 81.93 267.018 82.155 265.598 81.048C265.013 80.592 264.552 79.978 264.391 79.592L265.378 78.812Z" fill="white"/>
                  <path d="M273.239 83.576L271.396 82.027L270.396 83.218L272.455 84.95L271.675 85.877L268.483 83.193L272.693 78.186L275.778 80.779L274.998 81.707L273.046 80.065L272.169 81.108L274.011 82.657L273.239 83.576Z" fill="white"/>
                  <path d="M299.869 114.267L298.54 112.26L297.242 113.118L298.727 115.363L297.716 116.032L295.414 112.554L300.871 108.943L303.095 112.304L302.084 112.973L300.676 110.845L299.539 111.597L300.868 113.605L299.869 114.267Z" fill="white"/>
                  <path d="M300.007 119.774L300.713 118.655C300.982 118.214 301.19 117.898 301.42 117.549L301.41 117.532C301.015 117.612 300.639 117.652 300.143 117.705L298.846 117.858L297.973 116.416L301.788 116.317L303.605 113.083L304.487 114.537L303.765 115.644C303.523 116.014 303.321 116.303 303.087 116.625L303.1 116.647C303.538 116.566 303.849 116.519 304.258 116.466L305.565 116.317L306.441 117.762L302.754 117.84L300.895 121.238L300.007 119.774Z" fill="white"/>
                  <path d="M306.527 120.492L305.676 118.946L306.763 118.348L309.189 122.755L308.102 123.354L307.239 121.786L302.599 124.34L301.887 123.046L306.527 120.492Z" fill="white"/>
                  <path d="M309.568 123.678C309.852 124.066 310.221 124.669 310.572 125.372C311.006 126.239 311.177 126.912 311.055 127.496C310.953 127.983 310.637 128.381 310.1 128.65C309.359 129.019 308.579 128.748 308.147 128.336L308.12 128.35C308.159 128.838 307.886 129.259 307.422 129.675C306.851 130.187 306.177 130.744 306.009 130.972L305.332 129.619C305.456 129.444 305.853 129.063 306.493 128.535C307.143 128.006 307.215 127.664 306.951 127.116L306.754 126.723L304.459 127.871L303.804 126.561L309.568 123.678ZM307.709 126.245L307.968 126.762C308.296 127.418 308.826 127.643 309.334 127.389C309.869 127.121 309.96 126.618 309.661 126.012C309.503 125.696 309.39 125.52 309.32 125.44L307.709 126.245Z" fill="white"/>
                  <path d="M310.439 134.051L309.447 131.859L308.031 132.499L309.139 134.95L308.036 135.448L306.319 131.652L312.275 128.958L313.935 132.627L312.831 133.126L311.78 130.803L310.54 131.365L311.531 133.556L310.439 134.051Z" fill="white"/>
                  <path d="M312.792 140.53C313.517 140.21 314.382 139.836 315.274 139.486L315.264 139.461C314.41 139.576 313.445 139.662 312.638 139.717L309.974 139.91L309.552 138.842L311.641 137.258C312.279 136.78 313.062 136.236 313.803 135.769L313.795 135.75C312.957 136.046 312.006 136.384 311.235 136.647L308.885 137.446L308.382 136.176L314.611 134.16L315.336 135.991L313.54 137.387C312.919 137.855 312.23 138.344 311.572 138.761L311.583 138.79C312.352 138.678 313.235 138.566 313.993 138.505L316.27 138.351L316.98 140.148L311.034 142.878L310.505 141.542L312.792 140.53Z" fill="white"/>
                  <path d="M315.226 146.664L314.451 144.389L312.98 144.889L313.846 147.433L312.701 147.823L311.36 143.88L317.545 141.775L318.842 145.586L317.697 145.975L316.876 143.563L315.588 144.002L316.363 146.278L315.226 146.664Z" fill="white"/>
                  <path d="M319.254 146.854L319.68 148.271L314.603 149.799L315.353 152.291L314.166 152.648L312.99 148.74L319.254 146.854Z" fill="white"/>
                  <path d="M314.537 154.056L317.126 153.369L320.322 150.385L320.756 152.021L319.408 153.066C319.005 153.38 318.704 153.609 318.327 153.875L318.333 153.893C318.763 153.93 319.174 153.983 319.67 154.047L321.357 154.281L321.784 155.89L317.552 154.783L314.916 155.483L314.537 154.056Z" fill="white"/>
                  <path d="M320.51 165.287C318.409 165.713 316.882 164.702 316.503 162.829C316.118 160.931 317.329 159.522 319.155 159.152C321.069 158.765 322.755 159.705 323.136 161.591C323.535 163.557 322.282 164.929 320.51 165.287ZM319.492 160.677C318.238 160.932 317.472 161.702 317.669 162.668C317.867 163.647 318.905 164.019 320.151 163.767C321.306 163.533 322.181 162.788 321.979 161.792C321.78 160.811 320.738 160.425 319.492 160.677Z" fill="white"/>
                  <path d="M323.753 165.865C323.887 166.237 324.07 166.998 324.183 167.729C324.32 168.62 324.318 169.182 324.116 169.697C323.945 170.186 323.553 170.572 322.96 170.664C322.392 170.751 321.804 170.501 321.422 169.814L321.397 169.818C321.317 170.586 320.839 171.222 320.011 171.35C319.419 171.441 318.915 171.24 318.534 170.889C318.08 170.474 317.753 169.726 317.554 168.438C317.442 167.718 317.408 167.178 317.405 166.844L323.753 165.865ZM318.642 168.137C318.64 168.281 318.664 168.454 318.702 168.702C318.804 169.366 319.151 169.91 319.832 169.805C320.479 169.706 320.648 169.086 320.537 168.357L320.459 167.858L318.642 168.137ZM321.502 167.695L321.575 168.169C321.695 168.944 322.079 169.298 322.559 169.224C323.05 169.148 323.252 168.735 323.149 168.075C323.1 167.756 323.051 167.579 323.009 167.463L321.502 167.695Z" fill="white"/>
                  <path d="M321.414 176.117L321.142 173.727L319.598 173.902L319.901 176.573L318.698 176.71L318.228 172.571L324.722 171.832L325.177 175.833L323.974 175.969L323.686 173.437L322.333 173.59L322.605 175.98L321.414 176.117Z" fill="white"/>
                  <path d="M320.311 177.598C320.131 178.003 319.978 178.631 320.027 179.261C320.078 179.937 320.387 180.275 320.815 180.242C321.216 180.211 321.428 179.882 321.643 179.082C321.945 177.965 322.482 177.21 323.434 177.137C324.544 177.052 325.46 177.92 325.578 179.451C325.635 180.194 325.529 180.741 325.378 181.14L324.171 180.904C324.274 180.637 324.425 180.154 324.377 179.521C324.328 178.88 324.008 178.597 323.674 178.622C323.26 178.653 323.105 179.028 322.851 179.898C322.508 181.084 321.95 181.664 321.029 181.735C319.942 181.818 318.944 181.057 318.807 179.264C318.751 178.525 318.895 177.771 319.071 177.392L320.311 177.598Z" fill="white"/>
                  <path d="M322.077 186.604L321.981 184.199L320.426 184.262L320.533 186.949L319.322 186.997L319.157 182.832L325.691 182.572L325.851 186.597L324.64 186.645L324.539 184.097L323.178 184.151L323.274 186.555L322.077 186.604Z" fill="white"/>
                  <path d="M82.7203 174.763L81.1873 169.739L81.8733 169.863L83.1123 174.085L83.1323 174.089L85.7703 170.568L86.4553 170.692L83.2593 174.861L82.7203 174.763Z" fill="white"/>
                  <path d="M81.5592 166.504L81.5542 166.524L81.8852 167.772L81.1912 167.78L80.7852 166.213L80.9602 165.483L87.3202 167.013L87.1202 167.843L81.5592 166.504Z" fill="white"/>
                  <path d="M86.2671 164.38C85.4771 164.145 85.0581 163.504 84.9501 162.64L84.9201 162.633C84.3891 163.237 83.7611 163.379 83.2161 163.218C82.2271 162.923 81.7991 161.878 82.1281 160.772C82.4891 159.56 83.4291 159.175 84.2131 159.408C84.7461 159.567 85.2401 160.003 85.3721 160.876L85.4031 160.886C85.9401 160.198 86.6421 159.882 87.3981 160.106C88.4931 160.432 88.9471 161.583 88.5891 162.787C88.2001 164.092 87.1841 164.653 86.2671 164.38ZM83.3971 162.39C84.0241 162.582 84.5061 162.205 84.9121 161.542C84.8931 160.95 84.6301 160.42 84.0551 160.25C83.5601 160.102 82.9491 160.245 82.7211 161.009C82.5111 161.711 82.8621 162.23 83.3971 162.39ZM87.2281 160.992C86.4711 160.767 85.9431 161.188 85.4541 161.965C85.4441 162.758 85.8141 163.304 86.4101 163.481C87.0351 163.695 87.7351 163.383 87.9741 162.581C88.2011 161.816 87.8731 161.184 87.2281 160.992Z" fill="white"/>
                  <path d="M90.4572 160.583C89.9572 160.181 89.0282 159.58 88.3672 159.239L88.5872 158.275C89.3232 158.775 90.2372 159.55 90.5952 159.971L90.4572 160.583Z" fill="white"/>
                  <path d="M85.9812 152.284L85.0952 154.61L86.5762 155.443C86.6102 155.297 86.6462 155.16 86.7312 154.935C86.9132 154.46 87.1912 154.036 87.5652 153.742C88.0102 153.371 88.6942 153.176 89.4652 153.469C90.6582 153.924 91.1872 155.209 90.6822 156.535C90.4262 157.206 90.0262 157.692 89.7252 157.915L89.1742 157.465C89.4192 157.272 89.8032 156.846 90.0162 156.287C90.3112 155.514 90.0552 154.645 89.2332 154.338C88.4462 154.043 87.6842 154.359 87.2202 155.577C87.0852 155.932 87.0122 156.213 86.9592 156.451L84.1772 154.937L85.2892 152.018L85.9812 152.284Z" fill="white"/>
                  <path d="M105.443 121.415L105.43 121.43L105.116 122.682L104.505 122.353L104.907 120.783L105.414 120.229L110.244 124.645L109.667 125.275L105.443 121.415Z" fill="white"/>
                  <path d="M110.588 121.842C110.009 121.256 109.951 120.493 110.273 119.685L110.25 119.664C109.494 119.937 108.877 119.76 108.478 119.354C107.754 118.62 107.883 117.498 108.704 116.69C109.603 115.803 110.612 115.919 111.185 116.501C111.575 116.897 111.798 117.516 111.492 118.344L111.515 118.367C112.316 118.024 113.083 118.086 113.635 118.646C114.437 119.46 114.279 120.685 113.386 121.566C112.417 122.521 111.258 122.522 110.588 121.842ZM109.035 118.718C109.492 119.188 110.095 119.09 110.769 118.706C111.037 118.179 111.063 117.588 110.642 117.162C110.279 116.794 109.676 116.625 109.109 117.184C108.588 117.697 108.643 118.32 109.035 118.718ZM113.062 119.341C112.508 118.778 111.844 118.892 111.041 119.336C110.65 120.025 110.71 120.68 111.146 121.123C111.59 121.612 112.354 121.675 112.949 121.089C113.515 120.53 113.533 119.82 113.062 119.341Z" fill="white"/>
                  <path d="M116.1 120.529C115.856 119.935 115.334 118.96 114.919 118.342L115.577 117.603C115.981 118.397 116.407 119.518 116.518 120.058L116.1 120.529Z" fill="white"/>
                  <path d="M116.157 111.118L114.261 112.729L115.157 114.173C115.257 114.061 115.355 113.958 115.538 113.802C115.926 113.473 116.375 113.237 116.843 113.159C117.412 113.048 118.106 113.206 118.64 113.835C119.466 114.808 119.312 116.19 118.23 117.109C117.683 117.573 117.097 117.807 116.726 117.858L116.461 117.198C116.769 117.147 117.31 116.959 117.765 116.572C118.396 116.036 118.59 115.151 118.018 114.485C117.469 113.849 116.651 113.758 115.656 114.603C115.367 114.848 115.167 115.06 115.006 115.242L113.296 112.575L115.677 110.553L116.157 111.118Z" fill="white"/>
                  <path d="M120.814 110.954L121.213 111.465L119.255 112.992L118.856 112.481L120.814 110.954Z" fill="white"/>
                  <path d="M123.228 112.925L122.915 112.487L123.087 111.534C123.521 109.27 123.645 108.136 123.077 107.332C122.691 106.791 122.077 106.474 121.284 107.039C120.798 107.387 120.578 107.921 120.474 108.298L119.885 107.958C120.029 107.39 120.391 106.781 121.004 106.343C122.148 105.526 123.191 105.968 123.731 106.726C124.438 107.714 124.292 109.016 123.94 110.891L123.803 111.589L123.814 111.605L126.198 109.902L126.624 110.499L123.228 112.925Z" fill="white"/>
                  <path d="M129.664 108.523L128.702 107.019L126.143 108.654L125.832 108.167L126.039 103.076L126.847 102.56L129.038 105.991L129.811 105.497L130.18 106.075L129.407 106.568L130.367 108.072L129.664 108.523ZM128.334 106.441L127.156 104.596C126.972 104.309 126.798 104.015 126.632 103.714L126.601 103.728C126.639 104.167 126.656 104.49 126.666 104.841L126.52 107.576L126.528 107.594L128.334 106.441Z" fill="white"/>
                  <path d="M132.056 108.506C131.941 107.875 131.631 106.813 131.353 106.123L132.151 105.537C132.381 106.397 132.566 107.581 132.562 108.133L132.056 108.506Z" fill="white"/>
                  <path d="M133.566 105.459C133.742 105.383 133.928 105.266 134.174 105.091C134.595 104.793 134.921 104.378 135.084 103.886C135.272 103.333 135.273 102.681 135.013 101.944L134.99 101.957C134.878 102.522 134.544 102.997 133.962 103.311C132.928 103.87 131.845 103.448 131.312 102.464C130.729 101.382 131 99.995 132.177 99.36C133.35 98.726 134.593 99.286 135.391 100.763C136.073 102.025 136.123 103.139 135.854 103.997C135.645 104.662 135.179 105.263 134.595 105.667C134.341 105.859 134.093 106.009 133.91 106.097L133.566 105.459ZM132.061 102.002C132.448 102.718 133.153 102.99 133.831 102.623C134.349 102.343 134.617 101.863 134.637 101.407C134.636 101.315 134.622 101.214 134.552 101.085C134.023 100.099 133.251 99.551 132.438 99.992C131.772 100.35 131.619 101.188 132.061 102.002Z" fill="white"/>
                  <path d="M163.617 95.253L163.532 94.722L164.11 93.946C165.505 92.109 166.121 91.15 165.968 90.176C165.863 89.521 165.454 88.963 164.492 89.117C163.903 89.213 163.468 89.593 163.207 89.885L162.831 89.318C163.213 88.872 163.807 88.487 164.551 88.367C165.94 88.143 166.677 89.004 166.824 89.922C167.016 91.122 166.308 92.224 165.159 93.746L164.726 94.311L164.729 94.331L167.622 93.866L167.739 94.589L163.617 95.253Z" fill="white"/>
                  <path d="M171.906 88.29L169.43 88.554L169.358 90.252C169.504 90.216 169.642 90.185 169.882 90.16C170.388 90.106 170.892 90.163 171.323 90.363C171.856 90.591 172.34 91.113 172.428 91.933C172.563 93.202 171.657 94.259 170.245 94.409C169.532 94.485 168.916 94.347 168.58 94.181L168.732 93.486C169.015 93.618 169.569 93.766 170.163 93.703C170.986 93.616 171.645 92.993 171.546 92.121C171.452 91.286 170.826 90.749 169.529 90.888C169.151 90.928 168.867 90.99 168.631 91.051L168.719 87.883L171.827 87.552L171.906 88.29Z" fill="white"/>
                  <path d="M175.836 90.781L175.878 91.428L173.401 91.588L173.359 90.942L175.836 90.781Z" fill="white"/>
                  <path d="M176.715 93.769L176.703 93.23L177.382 92.539C179.014 90.908 179.755 90.039 179.736 89.053C179.721 88.389 179.39 87.78 178.416 87.803C177.818 87.817 177.336 88.136 177.038 88.39L176.741 87.777C177.18 87.387 177.821 87.086 178.575 87.069C179.983 87.036 180.596 87.989 180.618 88.92C180.646 90.135 179.794 91.132 178.448 92.486L177.942 92.987L177.943 93.007L180.875 92.938L180.892 93.671L176.715 93.769Z" fill="white"/>
                  <path d="M182.328 93.061C182.517 93.084 182.737 93.075 183.038 93.047C183.551 92.999 184.043 92.802 184.43 92.458C184.869 92.071 185.196 91.507 185.339 90.739H185.312C184.932 91.174 184.405 91.417 183.744 91.398C182.568 91.366 181.839 90.458 181.87 89.339C181.905 88.11 182.834 87.044 184.172 87.081C185.506 87.118 186.304 88.224 186.258 89.904C186.217 91.34 185.705 92.33 185.043 92.94C184.529 93.413 183.825 93.7 183.116 93.759C182.8 93.798 182.509 93.804 182.306 93.788L182.328 93.061ZM182.752 89.312C182.729 90.126 183.205 90.713 183.975 90.735C184.564 90.752 185.037 90.47 185.282 90.083C185.327 90.003 185.365 89.908 185.37 89.762C185.403 88.641 185.009 87.781 184.083 87.756C183.328 87.735 182.775 88.384 182.752 89.312Z" fill="white"/>
                  <path d="M186.512 95.08C186.772 94.494 187.112 93.442 187.27 92.716L188.258 92.679C187.965 93.519 187.453 94.601 187.139 95.056L186.512 95.08Z" fill="white"/>
                  <path d="M189.465 93.41C189.653 93.447 189.872 93.455 190.173 93.449C190.688 93.438 191.192 93.278 191.602 92.964C192.069 92.612 192.436 92.073 192.635 91.318L192.609 91.316C192.199 91.721 191.656 91.925 190.999 91.859C189.83 91.74 189.171 90.782 189.284 89.669C189.409 88.446 190.413 87.452 191.743 87.589C193.069 87.724 193.783 88.885 193.612 90.555C193.466 91.982 192.883 92.931 192.178 93.49C191.63 93.922 190.909 94.157 190.198 94.164C189.881 94.18 189.591 94.165 189.39 94.135L189.465 93.41ZM190.163 89.706C190.081 90.515 190.511 91.135 191.276 91.214C191.862 91.274 192.354 91.027 192.627 90.661C192.678 90.584 192.723 90.492 192.738 90.348C192.853 89.234 192.524 88.348 191.603 88.255C190.853 88.177 190.255 88.784 190.163 89.706Z" fill="white"/>
                  <path d="M224.529 102.822C224.679 103.077 225.078 103.567 225.629 103.855C226.632 104.379 227.28 103.905 227.528 103.417C227.945 102.597 227.39 101.867 226.635 101.472L226.196 101.243L226.505 100.654L226.944 100.883C227.515 101.18 228.391 101.265 228.749 100.58C228.992 100.114 228.909 99.55 228.185 99.172C227.725 98.931 227.17 98.901 226.828 98.95L226.913 98.272C227.336 98.206 228.042 98.29 228.666 98.616C229.814 99.216 229.98 100.163 229.609 100.873C229.295 101.472 228.665 101.79 227.824 101.679L227.814 101.697C228.457 102.206 228.75 103.048 228.327 103.858C227.844 104.784 226.691 105.219 225.301 104.493C224.649 104.153 224.187 103.654 224.005 103.312L224.529 102.822Z" fill="white"/>
                  <path d="M233.804 105.332C232.675 107.241 231.335 107.875 230.092 107.14C228.993 106.49 228.854 105.018 229.936 103.148C231.055 101.256 232.485 100.701 233.628 101.377C234.814 102.079 234.864 103.539 233.804 105.332ZM230.701 103.604C229.831 105.07 229.793 106.166 230.485 106.575C231.262 107.034 232.169 106.346 233.017 104.913C233.839 103.524 234.022 102.411 233.232 101.944C232.568 101.551 231.602 102.078 230.701 103.604Z" fill="white"/>
                  <path d="M236.344 107.332L235.991 107.876L233.908 106.524L234.261 105.98L236.344 107.332Z" fill="white"/>
                  <path d="M236.023 109.554C236.136 109.826 236.465 110.366 236.971 110.726C237.892 111.381 238.597 111.001 238.911 110.552C239.435 109.796 238.984 108.999 238.29 108.504L237.887 108.218L238.272 107.676L238.676 107.963C239.202 108.335 240.057 108.538 240.504 107.909C240.808 107.481 240.803 106.912 240.138 106.439C239.715 106.139 239.17 106.033 238.825 106.034L239.002 105.375C239.429 105.367 240.117 105.547 240.69 105.954C241.744 106.704 241.78 107.665 241.316 108.317C240.925 108.867 240.256 109.096 239.44 108.872L239.429 108.888C239.995 109.479 240.171 110.353 239.642 111.097C239.037 111.948 237.837 112.221 236.56 111.313C235.961 110.888 235.571 110.331 235.438 109.967L236.023 109.554Z" fill="white"/>
                  <path d="M241.513 114.892L242.621 113.493L240.24 111.608L240.599 111.155L245.476 109.688L246.227 110.284L243.701 113.474L244.421 114.043L243.995 114.581L243.276 114.012L242.169 115.411L241.513 114.892ZM243.046 112.956L244.404 111.239C244.615 110.972 244.836 110.711 245.067 110.457L245.043 110.431C244.64 110.61 244.341 110.732 244.011 110.856L241.379 111.611L241.365 111.625L243.046 112.956Z" fill="white"/>
                  <path d="M242.315 117.152C242.874 116.837 243.776 116.198 244.337 115.71L245.151 116.272C244.413 116.77 243.356 117.331 242.832 117.507L242.315 117.152Z" fill="white"/>
                  <path d="M245.689 117.585C245.818 117.726 245.988 117.864 246.235 118.04C246.654 118.339 247.154 118.514 247.672 118.507C248.257 118.503 248.874 118.291 249.485 117.804L249.465 117.787C248.894 117.867 248.336 117.706 247.849 117.258C246.983 116.462 247.027 115.3 247.785 114.475C248.617 113.568 250.017 113.373 251.003 114.278C251.985 115.181 251.863 116.539 250.727 117.776C249.756 118.834 248.72 119.245 247.82 119.272C247.122 119.292 246.402 119.047 245.828 118.628C245.565 118.451 245.341 118.264 245.198 118.12L245.689 117.585ZM248.465 115.031C247.916 115.632 247.889 116.387 248.457 116.908C248.891 117.306 249.433 117.403 249.87 117.273C249.957 117.242 250.048 117.195 250.148 117.087C250.907 116.263 251.173 115.355 250.491 114.729C249.934 114.217 249.092 114.347 248.465 115.031Z" fill="white"/>
                  <path d="M274.653 157.675L270.775 154.146L271.425 153.902L274.664 156.917L274.683 156.91L275.133 152.508L275.784 152.264L275.19 157.474L274.653 157.675Z" fill="white"/>
                  <path d="M273.774 159.383C273.699 159.668 273.635 160.298 273.82 160.89C274.157 161.969 274.95 162.093 275.471 161.925C276.345 161.64 276.468 160.732 276.216 159.919L276.068 159.447L276.702 159.248L276.851 159.722C277.043 160.336 277.602 161.015 278.339 160.784C278.841 160.628 279.181 160.171 278.938 159.393C278.783 158.897 278.412 158.484 278.137 158.276L278.677 157.857C279.022 158.109 279.461 158.669 279.672 159.339C280.059 160.575 279.505 161.361 278.741 161.6C278.096 161.802 277.425 161.58 276.911 160.908L276.891 160.914C276.985 161.729 276.596 162.53 275.725 162.803C274.728 163.115 273.607 162.607 273.139 161.111C272.92 160.409 272.946 159.73 273.06 159.36L273.774 159.383Z" fill="white"/>
                  <path d="M280.818 166.678L280.203 164.264L278.511 164.436C278.567 164.574 278.617 164.708 278.677 164.941C278.802 165.434 278.819 165.941 278.683 166.396C278.532 166.958 278.085 167.512 277.285 167.715C276.048 168.031 274.873 167.284 274.522 165.908C274.345 165.213 274.393 164.583 274.51 164.227L275.22 164.278C275.13 164.577 275.062 165.147 275.21 165.726C275.415 166.528 276.125 167.092 276.975 166.869C277.789 166.656 278.23 165.961 277.907 164.695C277.813 164.327 277.712 164.055 277.618 163.829L280.766 163.463L281.539 166.492L280.818 166.678Z" fill="white"/>
                </svg>
                <div className="needle" ref={needleRef}></div>
              </div>
            </div>

            <div className="action-buttons">
              <button className="calculate-btn" onClick={calculateBMI}>
                Calculate
              </button>
              <button className="reset-btn" onClick={resetForm}>
                Reset
              </button>
            </div>

            {result && (
              <div className="result-section">
                <h3>Your BMI is {result.bmi}</h3>
                <div className={`bmi-category ${result.category.replace(/\s+/g, '-').toLowerCase()}`}>{result.category}</div>
                <div className="result-details">
                  <div className="result-row">
                    <span>BMI Range:</span>
                    <span>
                      {result.category === "Underweight" ? "< 18.5" :
                        result.category === "Normal weight" ? "18.5 - 25" :
                        result.category === "Overweight" ? "25 - 30" : "> 30"}
                    </span>
                  </div>
                  <div className="result-row">
                    <span>Healthy Weight Range:</span>
                    <span>{result.idealWeight}</span>
                  </div>
                </div>
              </div>
            )}
          </div>

          <div className="info-section">
            <h2>BMI Categories</h2>
            <table className="bmi-table">
              <thead>
                <tr>
                  <th>BMI</th>
                  <th>Weight Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Below 18.5</td>
                  <td>Underweight</td>
                </tr>
                <tr>
                  <td>18.5 - 24.9</td>
                  <td>Normal weight</td>
                </tr>
                <tr>
                  <td>25.0 - 29.9</td>
                  <td>Overweight</td>
                </tr>
                <tr>
                  <td>30.0 and Above</td>
                  <td>Obese</td>
                </tr>
              </tbody>
            </table>
            <h2>About BMI</h2>
            <p>
              Body Mass Index (BMI) is a person's weight in kilograms divided by the square of height in meters. 
              A high BMI can indicate high body fatness. BMI screens for weight categories that may lead to health 
              problems, but it does not diagnose the body fatness or health of an individual.
            </p>
          </div>
        </div>

        <div className="ad-banner">
          <div className="ad-content">
            <p>Advertisement</p>
            <div className="ad-placeholder">
              {/* Replace this with your actual ad component */}
              <span>300x250 Ad Banner</span>
            </div>
          </div>
        </div>
      </div>

      <style jsx>{`
        .bmi-calculator-container {
          min-height: 100vh;
          background: linear-gradient(135deg, #f0f4ff 0%, #e6f0ff 100%);
          padding: 1rem 1rem 2rem 1rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        .main-content-wrapper {
          display: flex;
          max-width: 1200px;
          margin: 0 auto;
          gap: 0rem;
        }
        .calculator-content {
          flex: 1;
          min-width: 0;
          display: block;
        }
        .ad-banner {
          width: 300px;
          flex-shrink: 0;
        }
        .ad-content {
          position: sticky;
          top: 1rem;
          background: white;
          border-radius: 8px;
          padding: 1rem;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          text-align: center;
        }
        .ad-content p {
          color: #718096;
          font-size: 0.875rem;
          margin-bottom: 0.5rem;
        }
        .ad-placeholder {
          width: 300px;
          height: 250px;
          background: #f7fafc;
          border: 1px dashed #cbd5e0;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #a0aec0;
        }
        .calculator-header {
          text-align: center;
          margin-bottom: 30px;
        }
        .calculator-header h1 {
          color: #1e3a8a;
          margin-bottom: 10px;
        }
        .calculator-card {
          background: white;
          border-radius: 8px;
          padding: 25px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          margin-bottom: 30px;
        }
        .unit-toggle {
          display: flex;
          margin-bottom: 20px;
          border-radius: 6px;
          overflow: hidden;
          border: 1px solid #ddd;
        }
        .unit-btn {
          flex: 1;
          padding: 10px;
          border: none;
          background: #f8f9fa;
          cursor: pointer;
          font-weight: 500;
        }
        .unit-btn.active {
          background: #1e3a8a;
          color: white;
        }
        .input-section {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }
        .input-group {
          margin-bottom: 15px;
        }
        .input-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: 500;
        }
        .input-group input {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 16px;
        }
        .height-inputs {
          display: flex;
          gap: 10px;
        }
        .height-inputs input {
          flex: 1;
        }
        .gender-toggle {
          display: flex;
          border-radius: 6px;
          overflow: hidden;
          border: 1px solid #ddd;
        }
        .gender-btn {
          flex: 1;
          padding: 10px;
          border: none;
          background: #f8f9fa;
          cursor: pointer;
        }
        .gender-btn.active {
          background: #1e3a8a;
          color: white;
        }
        .meter-container {
          position: relative;
          width: 100%;
          max-width: 363px;
          margin: 0 auto 20px auto;
        }
        .meter-svg {
          position: relative;
          width: 100%;
          height: auto;
        }
        .needle {
          position: absolute;
          left: 50%;
          bottom: 25px;
          width: 4px;
          height: 80px;
          background: #333;
          transform-origin: 50% 100%;
          transform: translateX(-50%) rotate(-60deg);
          transition: transform 1s ease-out;
          z-index: 10;
        }
        .needle:after {
          content: '';
          position: absolute;
          top: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 8px solid transparent;
          border-right: 8px solid transparent;
          border-bottom: 12px solid #333;
        }
        .action-buttons {
          display: flex;
          gap: 15px;
          margin-top: 20px;
        }
        .calculate-btn {
          background: #28a745;
          color: white;
          border: none;
          padding: 12px 25px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 16px;
          font-weight: 500;
          flex: 1;
        }
        .reset-btn {
          background: #dc3545;
          color: white;
          border: none;
          padding: 12px 25px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 16px;
          font-weight: 500;
          flex: 1;
        }
        .result-section {
          margin-top: 30px;
          padding: 20px;
          background: #f8f9fa;
          border-radius: 8px;
          border-left: 5px solid #28a745;
        }
        .result-section h3 {
          margin-top: 0;
          color: #1e3a8a;
        }
        .bmi-category {
          display: inline-block;
          padding: 8px 15px;
          border-radius: 20px;
          font-weight: bold;
          margin: 10px 0;
        }
        .bmi-category.underweight {
          background: #17a2b8;
          color: white;
        }
        .bmi-category.normal-weight {
          background: #28a745;
          color: white;
        }
        .bmi-category.overweight {
          background: #ffc107;
          color: #212529;
        }
        .bmi-category.obese {
          background: #dc3545;
          color: white;
        }
        .result-details {
          margin-top: 15px;
        }
        .result-row {
          display: flex;
          justify-content: space-between;
          padding: 8px 0;
          border-bottom: 1px solid #eee;
        }
        .info-section {
          background: white;
          border-radius: 8px;
          padding: 25px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .info-section h2 {
          color: #1e3a8a;
          margin-top: 0;
        }
        .bmi-table {
          width: 100%;
          border-collapse: collapse;
          margin: 20px 0;
        }
        .bmi-table th, .bmi-table td {
          padding: 12px;
          text-align: left;
          border-bottom: 1px solid #ddd;
        }
        .bmi-table th {
          background: #f8f9fa;
          font-weight: 500;
        }
        @media (max-width: 1024px) {
          .main-content-wrapper {
            flex-direction: column;
          }
          .ad-banner {
            width: 100%;
            order: -1;
            margin-bottom: 1.5rem;
          }
          .ad-content {
            position: static;
          }
          .ad-placeholder {
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
          }
        }
        @media (max-width: 768px) {
          .calculator-content {
            flex-direction: column;
            display: block;
          }
          .input-section {
            grid-template-columns: 1fr;
          }
          .meter-svg {
            max-width: 300px;
            margin: 20px auto;
          }
          .calculator-card {
            padding: 15px;
          }
        }
      `}</style>
    </div>
  )
}